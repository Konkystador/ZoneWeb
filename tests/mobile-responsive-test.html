<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ - –û–∫–æ–Ω–Ω—ã–µ –ú–∞—Å—Ç–µ—Ä–∞</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="../public/css/style.css" rel="stylesheet">
    <style>
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .device-frame {
            border: 3px solid #333;
            border-radius: 20px;
            margin: 20px auto;
            background: #000;
            padding: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .device-frame.mobile {
            width: 375px;
            height: 667px;
        }
        
        .device-frame.tablet {
            width: 768px;
            height: 1024px;
        }
        
        .device-frame.desktop {
            width: 1200px;
            height: 800px;
        }
        
        .device-content {
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }
        
        .device-label {
            text-align: center;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .test-results {
            margin-top: 30px;
        }
        
        .test-item {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid;
        }
        
        .test-item.passed {
            background-color: #d4edda;
            border-left-color: #28a745;
            color: #155724;
        }
        
        .test-item.failed {
            background-color: #f8d7da;
            border-left-color: #dc3545;
            color: #721c24;
        }
        
        .test-item.warning {
            background-color: #fff3cd;
            border-left-color: #ffc107;
            color: #856404;
        }
        
        .responsive-test {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform-origin: top left;
        }
        
        .mobile .responsive-test {
            transform: scale(0.8);
        }
        
        .tablet .responsive-test {
            transform: scale(0.6);
        }
        
        .desktop .responsive-test {
            transform: scale(0.4);
        }
        
        .test-controls {
            margin: 20px 0;
            text-align: center;
        }
        
        .btn-test {
            margin: 5px;
            padding: 10px 20px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="text-center mb-4">
            <h1><i class="fas fa-mobile-alt"></i> –¢–µ—Å—Ç –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏</h1>
            <p class="lead">–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö</p>
        </div>
        
        <div class="test-controls">
            <button class="btn btn-primary btn-test" onclick="runResponsiveTests()">
                <i class="fas fa-play"></i> –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
            </button>
            <button class="btn btn-secondary btn-test" onclick="clearResults()">
                <i class="fas fa-trash"></i> –û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            </button>
            <button class="btn btn-info btn-test" onclick="toggleDeviceFrames()">
                <i class="fas fa-eye"></i> –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
            </button>
        </div>
        
        <div id="device-frames" style="display: none;">
            <div class="device-frame mobile">
                <div class="device-label">üì± –ú–æ–±–∏–ª—å–Ω—ã–π (375x667)</div>
                <div class="device-content">
                    <div class="responsive-test">
                        <iframe src="http://188.120.240.71" width="100%" height="100%" frameborder="0"></iframe>
                    </div>
                </div>
            </div>
            
            <div class="device-frame tablet">
                <div class="device-label">üì± –ü–ª–∞–Ω—à–µ—Ç (768x1024)</div>
                <div class="device-content">
                    <div class="responsive-test">
                        <iframe src="http://188.120.240.71" width="100%" height="100%" frameborder="0"></iframe>
                    </div>
                </div>
            </div>
            
            <div class="device-frame desktop">
                <div class="device-label">üíª –î–µ—Å–∫—Ç–æ–ø (1200x800)</div>
                <div class="device-content">
                    <div class="responsive-test">
                        <iframe src="http://188.120.240.71" width="100%" height="100%" frameborder="0"></iframe>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="test-results" id="test-results"></div>
    </div>
    
    <script>
        let testResults = [];
        let deviceFramesVisible = false;
        
        function logTest(testName, passed, message = '', type = 'info') {
            const result = {
                name: testName,
                passed: passed,
                message: message,
                type: type,
                timestamp: new Date().toISOString()
            };
            testResults.push(result);
            
            const status = passed ? '‚úÖ' : '‚ùå';
            const warning = type === 'warning' ? '‚ö†Ô∏è' : '';
            console.log(`${status} ${warning} ${testName}: ${message}`);
            
            updateTestUI(result);
        }
        
        function updateTestUI(result) {
            const testContainer = document.getElementById('test-results');
            if (!testContainer) return;
            
            const testDiv = document.createElement('div');
            testDiv.className = `test-item ${result.passed ? 'passed' : result.type === 'warning' ? 'warning' : 'failed'}`;
            testDiv.innerHTML = `
                <div class="test-name">${result.name}</div>
                <div class="test-message">${result.message}</div>
                <div class="test-time">${new Date(result.timestamp).toLocaleTimeString()}</div>
            `;
            
            testContainer.appendChild(testDiv);
        }
        
        function runResponsiveTests() {
            clearResults();
            console.log('üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏...\n');
            
            // –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ viewport meta tag
            testViewportMeta();
            
            // –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ Bootstrap –∫–ª–∞—Å—Å–æ–≤
            testBootstrapClasses();
            
            // –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ CSS –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å–æ–≤
            testMediaQueries();
            
            // –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            testElementSizes();
            
            // –¢–µ—Å—Ç 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            testNavigation();
            
            // –¢–µ—Å—Ç 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º
            testForms();
            
            // –¢–µ—Å—Ç 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–æ–∫
            testButtons();
            
            // –¢–µ—Å—Ç 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫
            testCards();
            
            showFinalResults();
        }
        
        function testViewportMeta() {
            try {
                const viewportMeta = document.querySelector('meta[name="viewport"]');
                assert(viewportMeta !== null, 'Viewport meta tag –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å');
                assert(viewportMeta.content.includes('width=device-width'), 'Viewport –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å width=device-width');
                assert(viewportMeta.content.includes('initial-scale=1'), 'Viewport –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å initial-scale=1');
                
                logTest('Viewport Meta Tag', true, 'Viewport –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ');
                return true;
            } catch (error) {
                logTest('Viewport Meta Tag', false, error.message);
                return false;
            }
        }
        
        function testBootstrapClasses() {
            try {
                const responsiveClasses = [
                    'container-fluid',
                    'row',
                    'col-',
                    'd-block',
                    'd-none',
                    'd-md-block',
                    'd-lg-none'
                ];
                
                let foundClasses = 0;
                for (const className of responsiveClasses) {
                    const elements = document.querySelectorAll(`[class*="${className}"]`);
                    if (elements.length > 0) {
                        foundClasses++;
                    }
                }
                
                assert(foundClasses > 0, '–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω—ã Bootstrap responsive –∫–ª–∞—Å—Å—ã');
                
                logTest('Bootstrap Responsive Classes', true, `–ù–∞–π–¥–µ–Ω–æ ${foundClasses} responsive –∫–ª–∞—Å—Å–æ–≤`);
                return true;
            } catch (error) {
                logTest('Bootstrap Responsive Classes', false, error.message);
                return false;
            }
        }
        
        function testMediaQueries() {
            try {
                const styleSheets = document.styleSheets;
                let hasMediaQueries = false;
                let mediaQueryCount = 0;
                
                for (let i = 0; i < styleSheets.length; i++) {
                    try {
                        const rules = styleSheets[i].cssRules || styleSheets[i].rules;
                        for (let j = 0; j < rules.length; j++) {
                            if (rules[j].type === CSSRule.MEDIA_RULE) {
                                hasMediaQueries = true;
                                mediaQueryCount++;
                            }
                        }
                    } catch (e) {
                        // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ CORS
                    }
                }
                
                assert(hasMediaQueries, '–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏');
                
                logTest('CSS Media Queries', true, `–ù–∞–π–¥–µ–Ω–æ ${mediaQueryCount} –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å–æ–≤`);
                return true;
            } catch (error) {
                logTest('CSS Media Queries', false, error.message);
                return false;
            }
        }
        
        function testElementSizes() {
            try {
                const body = document.body;
                const bodyWidth = body.offsetWidth;
                const bodyHeight = body.offsetHeight;
                
                assert(bodyWidth > 0, 'Body –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —à–∏—Ä–∏–Ω—É');
                assert(bodyHeight > 0, 'Body –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤—ã—Å–æ—Ç—É');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –≤—ã—Ö–æ–¥—è—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã
                const overflowElements = document.querySelectorAll('*');
                let overflowCount = 0;
                
                for (const element of overflowElements) {
                    if (element.scrollWidth > element.clientWidth || element.scrollHeight > element.clientHeight) {
                        overflowCount++;
                    }
                }
                
                if (overflowCount > 10) {
                    logTest('Element Sizes', false, `–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å overflow: ${overflowCount}`);
                    return false;
                }
                
                logTest('Element Sizes', true, `–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ ${overflowElements.length} —ç–ª–µ–º–µ–Ω—Ç–æ–≤, overflow: ${overflowCount}`);
                return true;
            } catch (error) {
                logTest('Element Sizes', false, error.message);
                return false;
            }
        }
        
        function testNavigation() {
            try {
                const navElements = document.querySelectorAll('nav, .navbar, .nav');
                assert(navElements.length > 0, '–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
                const mobileMenu = document.querySelector('.navbar-toggler, .burger-menu-3d');
                if (mobileMenu) {
                    logTest('Navigation', true, '–ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–π–¥–µ–Ω–∞, –µ—Å—Ç—å –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é');
                } else {
                    logTest('Navigation', true, '–ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–π–¥–µ–Ω–∞');
                }
                
                return true;
            } catch (error) {
                logTest('Navigation', false, error.message);
                return false;
            }
        }
        
        function testForms() {
            try {
                const forms = document.querySelectorAll('form');
                assert(forms.length > 0, '–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–æ—Ä–º—ã');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º responsive –∫–ª–∞—Å—Å—ã –≤ —Ñ–æ—Ä–º–∞—Ö
                const formGroups = document.querySelectorAll('.form-group, .mb-3, .row');
                assert(formGroups.length > 0, '–§–æ—Ä–º—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å responsive –∫–ª–∞—Å—Å—ã');
                
                logTest('Forms', true, `–ù–∞–π–¥–µ–Ω–æ ${forms.length} —Ñ–æ—Ä–º —Å responsive –∫–ª–∞—Å—Å–∞–º–∏`);
                return true;
            } catch (error) {
                logTest('Forms', false, error.message);
                return false;
            }
        }
        
        function testButtons() {
            try {
                const buttons = document.querySelectorAll('button, .btn');
                assert(buttons.length > 0, '–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–Ω–æ–ø–∫–∏');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä—ã –∫–Ω–æ–ø–æ–∫
                let smallButtons = 0;
                for (const button of buttons) {
                    if (button.offsetWidth < 50 || button.offsetHeight < 30) {
                        smallButtons++;
                    }
                }
                
                if (smallButtons > buttons.length * 0.5) {
                    logTest('Buttons', false, `–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∫–Ω–æ–ø–æ–∫: ${smallButtons}/${buttons.length}`);
                    return false;
                }
                
                logTest('Buttons', true, `–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ ${buttons.length} –∫–Ω–æ–ø–æ–∫, –º–∞–ª–µ–Ω—å–∫–∏—Ö: ${smallButtons}`);
                return true;
            } catch (error) {
                logTest('Buttons', false, error.message);
                return false;
            }
        }
        
        function testCards() {
            try {
                const cards = document.querySelectorAll('.card, .order-card');
                if (cards.length === 0) {
                    logTest('Cards', true, '–ö–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã (–≤–æ–∑–º–æ–∂–Ω–æ, –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã)');
                    return true;
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–µ —Å–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–∏–µ
                let wideCards = 0;
                for (const card of cards) {
                    if (card.offsetWidth > window.innerWidth * 0.9) {
                        wideCards++;
                    }
                }
                
                if (wideCards > cards.length * 0.3) {
                    logTest('Cards', false, `–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —à–∏—Ä–æ–∫–∏—Ö –∫–∞—Ä—Ç–æ—á–µ–∫: ${wideCards}/${cards.length}`);
                    return false;
                }
                
                logTest('Cards', true, `–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ ${cards.length} –∫–∞—Ä—Ç–æ—á–µ–∫, —à–∏—Ä–æ–∫–∏—Ö: ${wideCards}`);
                return true;
            } catch (error) {
                logTest('Cards', false, error.message);
                return false;
            }
        }
        
        function clearResults() {
            document.getElementById('test-results').innerHTML = '';
            testResults = [];
        }
        
        function toggleDeviceFrames() {
            const frames = document.getElementById('device-frames');
            deviceFramesVisible = !deviceFramesVisible;
            frames.style.display = deviceFramesVisible ? 'block' : 'none';
        }
        
        function showFinalResults() {
            const passed = testResults.filter(r => r.passed).length;
            const total = testResults.length;
            const successRate = Math.round((passed / total) * 100);
            
            const resultsDiv = document.getElementById('test-results');
            const summaryDiv = document.createElement('div');
            summaryDiv.className = 'test-item';
            summaryDiv.style.background = successRate === 100 ? '#d4edda' : successRate >= 80 ? '#fff3cd' : '#f8d7da';
            summaryDiv.style.borderLeftColor = successRate === 100 ? '#28a745' : successRate >= 80 ? '#ffc107' : '#dc3545';
            summaryDiv.innerHTML = `
                <div class="test-name"><strong>üìä –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</strong></div>
                <div class="test-message">
                    ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ: ${passed}/${total} | 
                    üìà –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: ${successRate}% | 
                    ${successRate === 100 ? 'üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã!' : successRate >= 80 ? '‚ö†Ô∏è –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ' : '‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞'}
                </div>
            `;
            
            resultsDiv.appendChild(summaryDiv);
            
            console.log(`\nüìä –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏:`);
            console.log(`‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ: ${passed}/${total}`);
            console.log(`‚ùå –ü—Ä–æ–≤–∞–ª–µ–Ω–æ: ${total - passed}/${total}`);
            console.log(`üìà –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: ${successRate}%`);
        }
        
        function assert(condition, message) {
            if (!condition) {
                throw new Error(message);
            }
        }
        
        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            console.log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Å—Ç–æ–≤ –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
        });
    </script>
</body>
</html>
